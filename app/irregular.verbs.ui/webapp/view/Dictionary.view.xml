<mvc:View
    controllerName="irregular.verbs.ui.controller.Dictionary"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    core:require="{
		formatter: 'irregular/verbs/ui/model/formatter'
	}"
>
    <Shell>
        <App
            busy="{dictionaryStore>/busy}"
            class="sapUiSizeCompact"
        >
            <pages>
                <Page title="{i18n>appTitle}">
                    <content>
                        <Table
                            id="dictionaryList"
                            growing="true"
                            growingThreshold="20"
                            mode="{= ${dictionaryStore>/editable} ? 'SingleSelectLeft' : 'None'}"
                            items="{
								path: 'dictionary>/Dictionary',
								parameters: {
									$count: true,
									$$updateGroupId : 'dictionaryGroup'
								}
							}"
                        >
                            <headerToolbar>
                                <OverflowToolbar>
                                    <content>
                                        <SearchField
                                            id="searchField"
                                            width="20%"
                                            placeholder="{i18n>searchFieldPlaceholder}"
                                            search=".onSearch"
                                            enabled="{= !${dictionaryStore>/hasUIChanges}}"
                                        />
                                        <Button
                                            id="refreshButton"
                                            icon="sap-icon://refresh"
                                            tooltip="{i18n>refreshTooltip}"
                                            press=".onRefresh"
                                        />
                                        <ToolbarSpacer />
                                        <Button
                                            id="editButton"
                                            icon="sap-icon://edit"
                                            tooltip="{i18n>editTooltip}"
                                            press=".onEdit"
                                            visible="{= !${dictionaryStore>/editable}}"
                                        />
                                        <Button
                                            id="addUserButton"
                                            icon="sap-icon://add"
                                            tooltip="{i18n>createTooltip}"
                                            press=".onCreate"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                        <Button
                                            id="deleteButton"
                                            icon="sap-icon://delete"
                                            tooltip="{i18n>deleteTooltip}"
                                            press=".onDelete"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                    </content>
                                </OverflowToolbar>
                            </headerToolbar>
                            <columns>
                                <Column>
                                    <Text text="Base" />
                                </Column>
                                <Column>
                                    <Text text="Past" />
                                </Column>
                                <Column>
                                    <Text text="Participle" />
                                </Column>
                                <Column>
                                    <Text text="Translation" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <HBox alignItems="Center">
                                        <Text
                                            text="{dictionary>base}"
                                            visible="{= !${dictionaryStore>/editable}}"
                                        />
                                        <Input
                                            value="{dictionary>base}"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                    </HBox>
                                    <HBox alignItems="Center">
                                        <Text
                                            text="{dictionary>past}"
                                            visible="{= !${dictionaryStore>/editable}}"
                                        />
                                        <Input
                                            value="{dictionary>past}"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                    </HBox>
                                    <HBox alignItems="Center">
                                        <Text
                                            text="{dictionary>participle}"
                                            visible="{= !${dictionaryStore>/editable}}"
                                        />
                                        <Input
                                            value="{dictionary>participle}"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                    </HBox>

                                    <HBox alignItems="Center">
                                        <Text
                                            text="{dictionary>translation}"
                                            visible="{= !${dictionaryStore>/editable}}"
                                        />
                                        <Input
                                            value="{dictionary>translation}"
                                            visible="{= ${dictionaryStore>/editable}}"
                                        />
                                    </HBox>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </content>
                    <footer>
                        <Toolbar visible="{dictionaryStore>/editable}">
                            <ToolbarSpacer />
                            <Button
                                id="saveButton"
                                type="Emphasized"
                                text="{i18n>saveButtonText}"
                                enabled="{= ${message>/}.length === 0 &amp;&amp; ${appView>/usernameEmpty} === false }"
                                press=".onSave"
                            />
                            <Button
                                id="cancelButton"
                                text="{i18n>cancelButtonText}"
                                press=".onCancel"
                            />
                        </Toolbar>
                    </footer>
                </Page>
            </pages>
        </App>
    </Shell>
</mvc:View>
